
#user  nobody;
worker_processes  1;

#error_log  logs/error.log;
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;

#pid        logs/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       mime.types;
    #default_type  application/octet-stream;

    sendfile        on;

    keepalive_timeout  65;

    #gzip  on;

    server {
        listen       80;
        server_name  lol.ru;
		
		location = /status {
			stub_status;
		}
		
		location = /api/v1 {
			proxy_pass http://localhost:8000/api/v1/swagger/;
			proxy_no_cache 1;
		}
		
		location /api/v1 {
			proxy_pass http://localhost:8000;
		}
		
		location /legacy {
			return 200 https://gitlab.com/lapayka/3cbdcw/-/tree/vlad_test_branch;
		}

        location / {
			root test;
			index greet.jpg;
		}
		
		location /test {
            return 301 /;
        }
	}
}
